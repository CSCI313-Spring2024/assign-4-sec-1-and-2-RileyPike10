<h1 style="margin-left: 495px;">Contact List</h1>
<div class="container" style="margin-left: 50px">
  <div class="row justify-content-start">
    <div *ngFor="let contact of contacts" class="col-5 mb-4">
      <div class="card p-4" style="border-radius: 15px; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);">
        <div class="d-flex justify-content-between align-items-start">
          <!-- Contact Info Section -->
          <div class="contact-info flex-grow-1">
            <!-- Edit Mode -->
            <div *ngIf="editingContactId === contact.id; else viewMode">
              <p>First Name: <input [(ngModel)]="contact.firstName" placeholder="First Name" class="form-control mb-2" /></p>
              <p>Last Name: <input [(ngModel)]="contact.lastName" placeholder="Last Name" class="form-control mb-2" /></p>
              <p>Email: <input [(ngModel)]="contact.email" placeholder="Email" class="form-control mb-2" /></p>
              <p>Phone: <input [(ngModel)]="contact.phone" placeholder="Phone" class="form-control mb-2" /></p>
              <button class="btn btn-success btn-sm mt-2" (click)="saveContact(contact)">Save</button>
            </div>

            <!-- View Mode -->
            <ng-template #viewMode>
              <h4 class="card-title text-center mb-3">
                {{ contact.firstName }} {{ contact.lastName }}
              </h4>
              <div><strong>Email:</strong> {{ contact.email }}</div>
              <div><strong>Phone:</strong> {{ contact.phone }}</div>
            </ng-template>
          </div>

          <!-- Action Buttons -->
          <div class="d-flex flex-column align-items-center gap-2">
            <button 
              class="btn btn-danger" 
              (click)="deleteContact(contact.id)" 
              style="height: 40px; width: 40px; text-align: center;">
              X
            </button>

            <!-- Toggle between "Edit" and nothing if already editing -->
            <button 
              *ngIf="editingContactId !== contact.id" 
              class="btn btn-outline-secondary" 
              (click)="startEditing(contact.id)"
              style="height: 40px; width: 40px; text-align: center;">
              <i class="bi bi-pencil"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
